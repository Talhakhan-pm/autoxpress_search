<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AutoXpress Smart Assistant | Your Auto Parts Search AI</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <!-- CSS Variables for design system -->
    <link rel="stylesheet" href="/static/css/variables.css">
    <!-- Application CSS -->
    <link rel="stylesheet" href="/static/css/styles.css">
    <link rel="stylesheet" href="/static/css/favorites-actions.css">
    <!-- Small screen aggressive optimization - loads for all standard screens up to 1920px -->
    <link rel="stylesheet" href="/static/css/small-screen-aggressive.css" media="(max-width: 1920px)">
    <!-- No inline styles here anymore - all styles are in the CSS file -->
</head>

<body>
    <div class="content-wrapper">
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <div class="container">
                <a class="navbar-brand" href="#">Auto<span>Xpress</span></a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link active" href="#top" aria-current="page">
                                <i class="fas fa-home me-1"></i>Home
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" id="favorites-nav-link">
                                <i class="fas fa-heart me-1"></i>Favorites
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <section class="hero-section">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-md-8">
                        <h1>Find the Right Auto Parts <span class="text-danger">Faster</span></h1><br>
                        <p class="lead">Our AI-powered assistant helps you discover OEM and aftermarket parts with
                            perfect
                            fitment for your vehicle</p>
                    </div>
                    <div class="col-md-4 text-end d-none d-md-block">
                        <i class="fas fa-car"></i>
                    </div>
                </div>
            </div>
        </section>

        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="card mb-4">
                        <div class="card-header">
                            <ul class="nav nav-tabs card-header-tabs" id="mainTabs" role="tablist">
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link active" id="search-tab" data-bs-toggle="tab"
                                        data-bs-target="#search-content" type="button" role="tab"
                                        aria-controls="search-content" aria-selected="true">
                                        <i class="fas fa-search me-2"></i>Search
                                    </button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" id="vin-tab" data-bs-toggle="tab"
                                        data-bs-target="#vin-content" type="button" role="tab"
                                        aria-controls="vin-content" aria-selected="false">
                                        <i class="fas fa-barcode me-2"></i>VIN Lookup
                                    </button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" id="favorites-tab" data-bs-toggle="tab"
                                        data-bs-target="#favorites-content" type="button" role="tab"
                                        aria-controls="favorites-content" aria-selected="false">
                                        <i class="fas fa-heart me-2"></i>Favorites
                                    </button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" id="location-tab" data-bs-toggle="tab"
                                        data-bs-target="#location-content" type="button" role="tab"
                                        aria-controls="location-content" aria-selected="false">
                                        <i class="fas fa-map-marker-alt me-2"></i>Location
                                    </button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" id="part-number-tab" data-bs-toggle="tab"
                                        data-bs-target="#part-number-content" type="button" role="tab"
                                        aria-controls="part-number-content" aria-selected="false">
                                        <i class="fas fa-hashtag me-2"></i>Part Number
                                    </button>
                                </li>
                            </ul>
                        </div>
                        <div class="card-body">
                            <div class="tab-content" id="mainTabsContent">
                                <div class="tab-pane fade show active" id="search-content" role="tabpanel"
                                    aria-labelledby="search-tab">
                                    <form id="search-form" method="post">
                                        <div class="mb-3">
                                            <label class="form-label">What auto part are you looking for?</label>
                                            <div class="multi-field-search">
                                                <div class="form-group">
                                                    <input type="text" class="form-control" id="year-field" name="year"
                                                        placeholder="Year" autocomplete="off">
                                                    <div id="year-suggestions" class="autocomplete-suggestions"></div>
                                                </div>
                                                <div class="form-group">
                                                    <input type="text" class="form-control" id="make-field" name="make"
                                                        placeholder="Make" autocomplete="off">
                                                    <div id="make-suggestions" class="autocomplete-suggestions"></div>
                                                </div>
                                                <div class="form-group">
                                                    <input type="text" class="form-control" id="model-field"
                                                        name="model" placeholder="Model" autocomplete="off">
                                                    <div id="model-suggestions" class="autocomplete-suggestions"></div>
                                                </div>
                                                <div class="form-group">
                                                    <input type="text" class="form-control" id="part-field" name="part"
                                                        placeholder="Part" autocomplete="off">
                                                </div>
                                                <div class="form-group">
                                                    <input type="text" class="form-control" id="engine-field"
                                                        name="engine" placeholder="Engine (optional)"
                                                        autocomplete="off">
                                                </div>
                                                <div class="search-button-container">
                                                    <button class="btn btn-danger" type="submit" id="search-button">
                                                        <i class="fas fa-search me-1" style="font-size: 0.875rem;"></i>
                                                        Find Parts
                                                    </button>
                                                    <div class="mini-actions">
                                                        <a href="#" class="mini-action-link" id="refresh-fields-button" title="Clear all fields">
                                                            <i class="fas fa-sync-alt"></i>
                                                        </a>
                                                        <a href="#" class="mini-action-link" id="copy-fields-button" title="Copy search fields">
                                                            <i class="fas fa-copy"></i>
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-text mt-2">
                                                Enter your vehicle details and the part you're looking for.
                                                <button type="button" class="btn btn-link p-0 align-baseline"
                                                    id="single-field-toggle">Switch to single field search</button>
                                            </div>
                                        </div>

                                        <!-- Single field search (hidden by default) -->
                                        <div class="mb-3 d-none" id="single-field-container">
                                            <div class="single-search-container">
                                                <div class="input-group">
                                                    <input type="text" class="form-control" id="prompt" name="prompt"
                                                        placeholder="Example: 2018 Toyota Camry front brake pads"
                                                        autocomplete="off">
                                                    <button class="btn btn-danger" type="submit" id="single-search-button">
                                                        <i class="fas fa-search me-1" style="font-size: 0.875rem;"></i> Find
                                                        Parts
                                                    </button>
                                                </div>
                                                <div class="mini-actions single-mini-actions">
                                                    <a href="#" class="mini-action-link" id="refresh-single-button" title="Clear field">
                                                        <i class="fas fa-sync-alt"></i>
                                                    </a>
                                                    <a href="#" class="mini-action-link" id="copy-single-button" title="Copy search query">
                                                        <i class="fas fa-copy"></i>
                                                    </a>
                                                </div>
                                            </div>
                                            <div class="form-text mt-2">
                                                Include year, make, model, and part. Example: "2018 Toyota Camry front
                                                brake pads"
                                                <button type="button" class="btn btn-link p-0 align-baseline"
                                                    id="multi-field-toggle">Switch to multi-field search</button>
                                            </div>
                                        </div>
                                    </form>
                                    <div id="validation-error" class="alert alert-danger mt-2 d-none" role="alert">
                                    </div>
                                </div>

                                <div class="tab-pane fade" id="vin-content" role="tabpanel" aria-labelledby="vin-tab">
                                    <form id="vin-form" method="post">
                                        <div class="mb-3">
                                            <label for="vin" class="form-label">Enter your Vehicle Identification Number
                                                (VIN)</label>
                                            <div class="input-group">
                                                <input type="text" class="form-control" id="vin" name="vin"
                                                    placeholder="Enter 17-character VIN" pattern="[A-HJ-NPR-Z0-9]{17}"
                                                    maxlength="17" required>
                                                <button class="btn btn-danger" type="submit" id="vin-button">
                                                    <i class="fas fa-search me-1" style="font-size: 0.9rem;"></i> Decode
                                                    VIN
                                                </button>
                                            </div>
                                            <div class="form-text">A valid VIN has 17 characters (excluding I, O, and Q)
                                            </div>
                                        </div>
                                    </form>
                                </div>

                                <div class="tab-pane fade" id="favorites-content" role="tabpanel"
                                    aria-labelledby="favorites-tab">
                                    <div id="favorites-container">
                                        <div class="d-flex justify-content-between mb-3">
                                            <h4>Saved Favorites</h4>
                                            <div>
                                                <button id="export-favorites"
                                                    class="btn btn-sm btn-outline-primary me-2">
                                                    <i class="fas fa-download me-1"></i> Export
                                                </button>
                                                <button id="clear-favorites" class="btn btn-sm btn-outline-danger">
                                                    <i class="fas fa-trash-alt me-1"></i> Clear All
                                                </button>
                                            </div>
                                        </div>
                                        <div id="favorites-list" class="row">
                                            <!-- Favorites will be loaded here -->
                                            <div class="col-12 no-favorites-msg">
                                                <i class="fas fa-heart fa-3x mb-3 text-muted"></i>
                                                <p>You haven't saved any favorites yet</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="tab-pane fade" id="location-content" role="tabpanel"
                                    aria-labelledby="location-tab">
                                    <div id="location-container">
                                        <div class="d-flex justify-content-between mb-3">
                                            <h4>Location Lookup</h4>
                                            <div>
                                                <button id="save-location" class="btn btn-sm btn-outline-primary me-2">
                                                    <i class="fas fa-save me-1"></i> Save
                                                </button>
                                                <button id="clear-location" class="btn btn-sm btn-outline-secondary">
                                                    <i class="fas fa-times me-1"></i> Clear
                                                </button>
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="card mb-3">
                                                    <div class="card-body">
                                                        <h5 class="card-title">Enter ZIP Code</h5>
                                                        <p class="text-muted small">Find location information for
                                                            delivery options</p>

                                                        <form id="zip-form" class="mt-3">
                                                            <div class="mb-3">
                                                                <label for="zip-code" class="form-label">ZIP
                                                                    Code</label>
                                                                <div class="input-group">
                                                                    <input type="text" class="form-control"
                                                                        id="zip-code"
                                                                        placeholder="Enter 5-digit ZIP code"
                                                                        maxlength="5" pattern="[0-9]{5}" required>
                                                                    <button class="btn btn-danger" type="submit"
                                                                        id="zip-button">
                                                                        <i class="fas fa-search me-1"></i> Lookup
                                                                    </button>
                                                                </div>
                                                                <div class="form-text">Enter a valid 5-digit US ZIP code
                                                                </div>
                                                            </div>
                                                        </form>

                                                        <div id="zip-loading" class="d-none">
                                                            <div class="d-flex align-items-center">
                                                                <div class="spinner-border spinner-border-sm text-primary me-2"
                                                                    role="status">
                                                                    <span class="visually-hidden">Loading...</span>
                                                                </div>
                                                                <span>Looking up location...</span>
                                                            </div>
                                                        </div>

                                                        <div id="zip-error" class="alert alert-danger mt-3 d-none">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-6">
                                                <div class="card">
                                                    <div class="card-body">
                                                        <h5 class="card-title">Location Details</h5>
                                                        <div id="zip-result" class="d-none">
                                                            <div class="location-card p-3 mt-3">
                                                                <div class="d-flex align-items-center mb-3">
                                                                    <div class="location-icon me-3">
                                                                        <i
                                                                            class="fas fa-map-marker-alt fa-2x text-danger"></i>
                                                                    </div>
                                                                    <div>
                                                                        <h6 class="mb-0" id="location-city-state">City,
                                                                            State</h6>
                                                                        <p class="text-muted mb-0" id="location-zip">ZIP
                                                                            Code</p>
                                                                    </div>
                                                                </div>

                                                                <div class="row mt-2">
                                                                    <div class="col-6">
                                                                        <div class="mb-2">
                                                                            <span class="text-muted">State:</span>
                                                                            <span id="location-state"
                                                                                class="fw-bold">-</span>
                                                                        </div>
                                                                        <div class="mb-2">
                                                                            <span class="text-muted">County:</span>
                                                                            <span id="location-county"
                                                                                class="fw-bold">-</span>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-6">
                                                                        <div class="mb-2">
                                                                            <span class="text-muted">Timezone:</span>
                                                                            <span id="location-timezone"
                                                                                class="fw-bold">-</span>
                                                                        </div>
                                                                        <div class="mb-2">
                                                                            <span class="text-muted">Area Code:</span>
                                                                            <span id="location-area-code"
                                                                                class="fw-bold">-</span>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <div class="shipping-notice mt-3 p-2 bg-light rounded">
                                                                    <i class="fas fa-truck text-success me-2"></i>
                                                                    <span class="small">Shipping is available for this
                                                                        area.</span>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div id="no-zip-results" class="text-center py-4">
                                                            <i class="fas fa-map-marker-alt fa-3x text-muted mb-3"></i>
                                                            <p>Enter a ZIP code to see location details</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row mt-4">
                                            <div class="col-12">
                                                <div class="card">
                                                    <div class="card-body">
                                                        <h5 class="card-title">Saved Locations</h5>
                                                        <div id="saved-locations-list">
                                                            <div id="no-saved-locations" class="text-center py-3">
                                                                <i class="fas fa-map fa-2x text-muted mb-2"></i>
                                                                <p>No saved locations yet</p>
                                                            </div>
                                                            <!-- Saved locations will be listed here -->
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="tab-pane fade" id="part-number-content" role="tabpanel"
                                    aria-labelledby="part-number-tab">
                                    <div id="part-number-container">
                                        <div class="d-flex justify-content-between mb-3">
                                            <h4>Part Number Search</h4>
                                            <div>
                                                <button id="save-part-number"
                                                    class="btn btn-sm btn-outline-primary me-2">
                                                    <i class="fas fa-save me-1"></i> Save
                                                </button>
                                                <button id="clear-part-history"
                                                    class="btn btn-sm btn-outline-secondary">
                                                    <i class="fas fa-trash me-1"></i> Clear History
                                                </button>
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="card mb-3">
                                                    <div class="card-body">
                                                        <h5 class="card-title">Find Parts by Number</h5>
                                                        <p class="text-muted small">Enter a part number to find detailed
                                                            information</p>

                                                        <form id="part-number-form" class="mt-3">
                                                            <div class="mb-3">
                                                                <label for="part-number-input" class="form-label">Part
                                                                    Number</label>
                                                                <div class="input-group">
                                                                    <input type="text" class="form-control"
                                                                        id="part-number-input"
                                                                        placeholder="Enter part number (e.g., 123-4567, AC123)"
                                                                        required>
                                                                    <button class="btn btn-danger" type="submit"
                                                                        id="part-number-search-btn">
                                                                        <i class="fas fa-search me-1"></i> Search
                                                                    </button>
                                                                </div>
                                                                <div class="form-text">Enter the exact part number from
                                                                    your component</div>
                                                            </div>

                                                            <div class="search-options">
                                                                <div class="form-check mb-2">
                                                                    <input class="form-check-input" type="checkbox"
                                                                        id="include-oem" checked>
                                                                    <label class="form-check-label" for="include-oem">
                                                                        Include OEM terms
                                                                    </label>
                                                                </div>
                                                                <div class="form-check mb-2">
                                                                    <input class="form-check-input" type="checkbox"
                                                                        id="include-alt-numbers" checked>
                                                                    <label class="form-check-label"
                                                                        for="include-alt-numbers">
                                                                        Include alternative part numbers
                                                                    </label>
                                                                </div>
                                                                <div class="form-check">
                                                                    <input class="form-check-input" type="checkbox"
                                                                        id="exclude-wholesalers">
                                                                    <label class="form-check-label"
                                                                        for="exclude-wholesalers">
                                                                        Exclude wholesalers (better retail results)
                                                                    </label>
                                                                </div>
                                                            </div>
                                                        </form>

                                                        <div id="part-number-loading" class="d-none mt-3">
                                                            <div class="d-flex align-items-center">
                                                                <div class="spinner-border spinner-border-sm text-primary me-2"
                                                                    role="status">
                                                                    <span class="visually-hidden">Searching...</span>
                                                                </div>
                                                                <span>Searching for part details...</span>
                                                            </div>
                                                        </div>

                                                        <div id="part-number-error"
                                                            class="alert alert-danger mt-3 d-none">
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>

                                            <div class="col-md-6">
                                                <div class="card">
                                                    <div class="card-body">
                                                        <h5 class="card-title">Part Information</h5>
                                                        <div id="part-number-result" class="d-none">
                                                            <div class="part-info-card p-3 mt-3">
                                                                <div class="d-flex align-items-center mb-3">
                                                                    <div class="part-icon me-3">
                                                                        <i class="fas fa-cog fa-2x text-danger"></i>
                                                                    </div>
                                                                    <div>
                                                                        <h6 class="mb-0" id="part-number-display">Part
                                                                            #12345</h6>
                                                                        <p class="text-muted mb-0"
                                                                            id="part-type-display">Component Type</p>
                                                                    </div>
                                                                </div>

                                                                <div id="part-details" class="mt-3">
                                                                    <!-- Part details will be inserted here -->
                                                                </div>

                                                                <div id="part-compatibility" class="mt-3">
                                                                    <h6 class="mb-2">Possible Vehicle Compatibility</h6>
                                                                    <div id="compatibility-list" class="small">
                                                                        <!-- Compatibility information will be inserted here -->
                                                                    </div>
                                                                </div>

                                                                <div class="search-links mt-3 p-2 bg-light rounded">
                                                                    <p class="mb-1 small"><strong>Advanced Search
                                                                            Links</strong></p>
                                                                    <div id="advanced-search-links"
                                                                        class="d-flex flex-wrap gap-2">
                                                                        <!-- Advanced search links will be inserted here -->
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div id="no-part-results" class="text-center py-4">
                                                            <i class="fas fa-hashtag fa-3x text-muted mb-3"></i>
                                                            <p>Enter a part number to see details</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row mt-4">
                                            <div class="col-12">
                                                <div class="card">
                                                    <div class="card-body">
                                                        <h5 class="card-title">Search History</h5>
                                                        <div id="part-search-history">
                                                            <div id="no-part-history" class="text-center py-3">
                                                                <i class="fas fa-history fa-2x text-muted mb-2"></i>
                                                                <p>No search history yet</p>
                                                            </div>
                                                            <div id="part-history-list" class="row g-3 d-none">
                                                                <!-- Search history will be listed here -->
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- AI Analysis Loading Indicator -->
            <div id="search-loading" class="text-center my-4" style="display: none;">
                <div class="spinner-border text-primary" style="width:1rem;height:1rem;" role="status">
                    <span class="visually-hidden">Loading analysis...</span>
                </div>
                <p class="mt-2">Analyzing your request<span class="loader-dots">
                        <div></div>
                        <div></div>
                        <div></div>
                    </span></p>
            </div>

            <!-- Results Container -->
            <div id="result-container" class="row" style="display: none;">
                <div class="col-12">
                    <div class="card mb-4">
                        <div class="card-header">
                            <ul class="nav nav-tabs card-header-tabs" id="resultsTabs" role="tablist">
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link active" id="analysis-tab" data-bs-toggle="tab"
                                        data-bs-target="#analysis-content" type="button" role="tab"
                                        aria-controls="analysis-content" aria-selected="true">
                                        <i class="fas fa-chart-bar me-2"></i>Analysis
                                        <span id="analysis-time" class="badge bg-secondary ms-2"></span>
                                    </button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" id="products-tab" data-bs-toggle="tab"
                                        data-bs-target="#products-content" type="button" role="tab"
                                        aria-controls="products-content" aria-selected="false">
                                        <i class="fas fa-shopping-cart me-2"></i>Products
                                        <span id="products-count" class="badge bg-primary ms-2">0</span>
                                    </button>
                                </li>
                            </ul>
                        </div>
                        <div class="card-body">
                            <div class="tab-content" id="resultsTabsContent">
                                <!-- Analysis Tab Content -->
                                <div class="tab-pane fade show active" id="analysis-content" role="tabpanel"
                                    aria-labelledby="analysis-tab">
                                    <div id="validation-error" class="alert alert-danger d-none" role="alert"></div>
                                    <div id="questions"></div>
                                </div>

                                <!-- Products Tab Content -->
                                <div class="tab-pane fade" id="products-content" role="tabpanel"
                                    aria-labelledby="products-tab">
                                    <!-- Products Toolbar -->
                                    <div class="d-flex justify-content-between align-items-center mb-3">
                                        <div>
                                            <span class="text-muted">Found <span id="product-total-count">0</span>
                                                products</span>

                                            <!-- Active filters display -->
                                            <div id="active-filters" class="active-filters mt-2"></div>
                                        </div>
                                        <div class="d-flex gap-2">
                                            <div class="dropdown">
                                                <button class="btn btn-sm btn-outline-secondary dropdown-toggle"
                                                    type="button" id="filterDropdown" data-bs-toggle="dropdown"
                                                    aria-expanded="false" data-bs-auto-close="outside">
                                                    <i class="fas fa-filter me-1"></i> Filter
                                                    <span id="filter-count" class="badge bg-danger ms-1"
                                                        style="display: none;">0</span>
                                                </button>
                                                <div class="dropdown-menu p-3 filter-dropdown-menu"
                                                    style="width: 280px;" aria-labelledby="filterDropdown">
                                                    <h6 class="dropdown-header">Filter Products</h6>

                                                    <!-- Condition filters -->
                                                    <div class="filter-section">
                                                        <div class="filter-group-title">Condition</div>
                                                        <div class="form-check">
                                                            <input class="form-check-input filter-check" type="checkbox"
                                                                id="newOnly" data-filter="condition" data-value="new">
                                                            <label class="form-check-label" for="newOnly">New
                                                                Only</label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input filter-check" type="checkbox"
                                                                id="usedOnly" data-filter="condition" data-value="used">
                                                            <label class="form-check-label" for="usedOnly">Used
                                                                Only</label>
                                                        </div>
                                                    </div>

                                                    <!-- Product Type filters -->
                                                    <div class="filter-section">
                                                        <div class="filter-group-title">Product Type</div>
                                                        <div class="form-check">
                                                            <input class="form-check-input filter-check" type="checkbox"
                                                                id="oemOnly" data-filter="type" data-value="oem">
                                                            <label class="form-check-label" for="oemOnly">OEM
                                                                Parts</label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input filter-check" type="checkbox"
                                                                id="premiumOnly" data-filter="type"
                                                                data-value="premium">
                                                            <label class="form-check-label" for="premiumOnly">Premium
                                                                Parts</label>
                                                        </div>
                                                    </div>

                                                    <!-- Shipping filters -->
                                                    <div class="filter-section">
                                                        <div class="filter-group-title">Shipping</div>
                                                        <div class="form-check">
                                                            <input class="form-check-input filter-check" type="checkbox"
                                                                id="freeShipping" data-filter="shipping"
                                                                data-value="free">
                                                            <label class="form-check-label" for="freeShipping">Free
                                                                Shipping</label>
                                                        </div>
                                                    </div>

                                                    <!-- Sources filters -->
                                                    <div class="filter-section">
                                                        <div class="filter-group-title">Sources</div>
                                                        <div class="form-check">
                                                            <input class="form-check-input filter-check" type="checkbox"
                                                                id="ebaySource" data-filter="source" data-value="eBay"
                                                                checked>
                                                            <label class="form-check-label"
                                                                for="ebaySource">eBay</label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input filter-check" type="checkbox"
                                                                id="googleSource" data-filter="source"
                                                                data-value="Google Shopping" checked>
                                                            <label class="form-check-label" for="googleSource">Google
                                                                Shopping</label>
                                                        </div>
                                                    </div>

                                                    <div class="dropdown-divider"></div>
                                                    <button id="resetFilters"
                                                        class="btn btn-sm btn-outline-secondary w-100">Reset
                                                        Filters</button>
                                                </div>
                                            </div>
                                            <div class="dropdown">
                                                <button class="btn btn-sm btn-outline-secondary dropdown-toggle"
                                                    type="button" id="sortDropdown" data-bs-toggle="dropdown"
                                                    aria-expanded="false">
                                                    <i class="fas fa-sort me-1"></i> <span
                                                        id="sort-label">Relevance</span>
                                                </button>
                                                <ul class="dropdown-menu" aria-labelledby="sortDropdown">
                                                    <li><a class="dropdown-item sort-option" href="#"
                                                            data-sort="relevance">Relevance</a></li>
                                                    <li><a class="dropdown-item sort-option" href="#"
                                                            data-sort="price-low">Price: Low to High</a></li>
                                                    <li><a class="dropdown-item sort-option" href="#"
                                                            data-sort="price-high">Price: High to Low</a></li>
                                                </ul>
                                            </div>
                                            <div class="dropdown">
                                                <button class="btn btn-sm btn-outline-secondary dropdown-toggle"
                                                    type="button" id="viewDropdown" data-bs-toggle="dropdown"
                                                    aria-expanded="false">
                                                    <i class="fas fa-th-large me-1"></i> <span
                                                        id="view-label">Grid</span>
                                                </button>
                                                <ul class="dropdown-menu" aria-labelledby="viewDropdown">
                                                    <li><a class="dropdown-item view-option" href="#"
                                                            data-view="grid"><i class="fas fa-th-large me-2"></i>Grid
                                                            View</a></li>
                                                    <li><a class="dropdown-item view-option" href="#"
                                                            data-view="list"><i class="fas fa-list me-2"></i>List
                                                            View</a></li>
                                                    <li><a class="dropdown-item view-option" href="#"
                                                            data-view="compact"><i class="fas fa-th me-2"></i>Compact
                                                            View</a></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Products Loading Indicator -->
                                    <div id="products-loading" class="text-center my-4" style="display: none;">
                                        <div class="spinner-border text-primary" style="width:1rem;height:1rem;"
                                            role="status">
                                            <span class="visually-hidden">Loading products...</span>
                                        </div>
                                        <p class="mt-2">Searching for products<span class="loader-dots">
                                                <div></div>
                                                <div></div>
                                                <div></div>
                                            </span></p>
                                    </div>

                                    <!-- Products Container -->
                                    <div id="products-container" class="row g-3">
                                        <!-- Products will be inserted here -->
                                    </div>

                                    <!-- Load More Button -->
                                    <div id="load-more-container" class="text-center mt-4 d-none">
                                        <button id="load-more-btn" class="btn btn-outline-primary">
                                            <i class="fas fa-sync me-2"></i>Load More Products
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- VIN Results Container -->
            <div id="vin-result-container" class="d-none">
                <div class="card">
                    <div class="card-header">Vehicle Information</div>
                    <div class="card-body">
                        <div id="vin-loading" class="text-center my-4 d-none">
                            <div class="spinner-border text-primary" style="width:1rem;height:1rem;" role="status">
                                <span class="visually-hidden">Loading VIN data...</span>
                            </div>
                            <p class="mt-2">Decoding your VIN<span class="loader-dots">
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                </span></p>
                        </div>
                        <div id="vin-error" class="alert alert-danger d-none"></div>
                        <div id="vin-data" class="row">
                            <!-- VIN data will be inserted here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Image Preview Modal -->
    <div id="imageModal" role="dialog" aria-modal="true" aria-labelledby="modalTitle"
        aria-describedby="modalDescription">
        <div id="modalTitle" class="sr-only">Product Image Preview</div>
        <div id="modalDescription" class="sr-only">Enlarged view of product image</div>
        <button class="close-modal" aria-label="Close image preview">&times;</button>
        <div class="modal-controls">
            <button id="zoom-in-btn" class="modal-zoom-btn" aria-label="Zoom in">
                <i class="fas fa-search-plus"></i>
            </button>
            <button id="zoom-out-btn" class="modal-zoom-btn" aria-label="Zoom out">
                <i class="fas fa-search-minus"></i>
            </button>
        </div>
        <img class="modal-content" id="modalImage" alt="Product image preview">
        <div class="modal-instructions">Use arrow keys to navigate or Escape to close</div>
    </div>

    <footer class="bg-dark text-white">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h5>Auto<span class="text-danger">Xpress</span></h5>
                    <p class="small">Your AI-powered auto parts assistant</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <p class="small">&copy; 2025 AutoXpress. All rights reserved.</p>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Feature Modules -->
    <script src="/static/js/modules/vin-decoder.js"></script>
    <script src="/static/js/modules/product-renderer.js"></script>
    <script src="/static/js/modules/image-modal.js"></script>

    <!-- Core Application Scripts -->
    <script src="/static/js/field-autocomplete.js"></script>
    <script src="/static/js/updated_products.js"></script>
    <script src="/static/js/main.js"></script>
    <script src="/static/js/field-based-search.js"></script>
    <script src="/static/js/favorites-actions.js"></script>
    <script src="/static/js/location-lookup.js"></script>
    <script src="/static/js/enhanced-filtering.js"></script>
    <script src="/static/js/part-number-display.js"></script>
    <script src="/static/js/part-number-search.js"></script>
    <script src="/static/js/ai-analysis-formatter.js"></script>
</body>

</html>