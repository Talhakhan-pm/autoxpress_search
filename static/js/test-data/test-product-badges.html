<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Product Badges Test</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <link rel="stylesheet" href="/static/css/badges.css">
  <style>
    body {
      padding: 30px;
      background-color: #f5f7fa;
    }
    h1 {
      margin-bottom: 30px;
    }
    .test-container {
      margin-bottom: 40px;
    }
    .product-card {
      position: relative;
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 20px;
      background-color: white;
      height: 300px;
    }
    .product-source {
      position: absolute;
      top: 10px;
      left: 10px;
      font-size: 12px;
      font-weight: bold;
      color: white;
      padding: 2px 6px;
      border-radius: 4px;
      background-color: #666;
    }
    .source-ebay {
      background-color: #e53238;
    }
    .source-google {
      background-color: #4285F4;
    }
    .product-image-container {
      height: 120px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 15px;
    }
    .product-image {
      max-height: 100px;
      max-width: 100%;
    }
    .product-title {
      font-weight: 500;
      font-size: 14px;
      height: 40px;
      overflow: hidden;
      margin-bottom: 10px;
    }
    .product-tags {
      display: flex;
      flex-wrap: wrap;
      margin-bottom: 10px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Product Badge System Test</h1>
    
    <div class="row test-container">
      <div class="col-12">
        <h2>Primary Badges</h2>
        <p>This section shows all types of primary badges.</p>
      </div>
      
      <div class="col-md-3">
        <div class="product-card product-relevance-high">
          <div class="product-source source-ebay">eBay</div>
          <div class="product-primary-badge badge-best-match">
            <i class="fas fa-star me-1"></i>
            Best Match
          </div>
          <div class="product-image-container">
            <img src="https://via.placeholder.com/150" alt="Test Product" class="product-image">
          </div>
          <div class="product-title">2018 Toyota Camry Brake Pads - New OEM</div>
          <div class="product-tags">
            <span class="product-tag badge-condition">New</span>
            <span class="product-tag badge-shipping">Free Shipping</span>
          </div>
          <div>
            <strong>$79.99</strong>
          </div>
        </div>
      </div>
      
      <div class="col-md-3">
        <div class="product-card product-relevance-high">
          <div class="product-source source-google">Google</div>
          <div class="product-primary-badge badge-exact-year">
            <i class="fas fa-check-circle me-1"></i>
            Exact Year
          </div>
          <div class="product-image-container">
            <img src="https://via.placeholder.com/150" alt="Test Product" class="product-image">
          </div>
          <div class="product-title">2018 Toyota Camry Brake Pads - Exact Year Match</div>
          <div class="product-tags">
            <span class="product-tag badge-condition">New</span>
            <span class="product-tag badge-brand">Premium Brand</span>
          </div>
          <div>
            <strong>$89.99</strong>
          </div>
        </div>
      </div>
      
      <div class="col-md-3">
        <div class="product-card product-relevance-medium">
          <div class="product-source source-ebay">eBay</div>
          <div class="product-primary-badge badge-part-match">
            <i class="fas fa-wrench me-1"></i>
            Exact Part
          </div>
          <div class="product-image-container">
            <img src="https://via.placeholder.com/150" alt="Test Product" class="product-image">
          </div>
          <div class="product-title">2015-2020 Toyota Camry Brake Pads - Aftermarket</div>
          <div class="product-tags">
            <span class="product-tag badge-compatible">Year Compatible</span>
            <span class="product-tag badge-shipping">Free Shipping</span>
          </div>
          <div>
            <strong>$49.99</strong>
          </div>
        </div>
      </div>
      
      <div class="col-md-3">
        <div class="product-card">
          <div class="product-source source-google">Google</div>
          <div class="product-primary-badge badge-oem">
            <i class="fas fa-certificate me-1"></i>
            OEM
          </div>
          <div class="product-image-container">
            <img src="https://via.placeholder.com/150" alt="Test Product" class="product-image">
          </div>
          <div class="product-title">Toyota Genuine OEM Brake Pads</div>
          <div class="product-tags">
            <span class="product-tag badge-condition">New</span>
          </div>
          <div>
            <strong>$109.99</strong>
          </div>
        </div>
      </div>
    </div>
    
    <div class="row test-container">
      <div class="col-12">
        <h2>Secondary Badges</h2>
        <p>This section shows the secondary badges that can appear in the tags section.</p>
      </div>
      
      <div class="col-md-4">
        <div class="product-card">
          <div class="product-source source-ebay">eBay</div>
          <div class="product-image-container">
            <img src="https://via.placeholder.com/150" alt="Test Product" class="product-image">
          </div>
          <div class="product-title">Toyota Camry Parts with Multiple Badges</div>
          <div class="product-tags">
            <span class="product-tag badge-condition">
              <i class="fas fa-tag me-1"></i>
              New
            </span>
            <span class="product-tag badge-shipping">
              <i class="fas fa-truck me-1"></i>
              Free Shipping
            </span>
            <span class="product-tag badge-brand">
              <i class="fas fa-crown me-1"></i>
              Premium Brand
            </span>
          </div>
          <div>
            <strong>$69.99</strong>
          </div>
        </div>
      </div>
      
      <div class="col-md-4">
        <div class="product-card product-relevance-medium">
          <div class="product-source source-google">Google</div>
          <div class="product-primary-badge badge-compatible">
            <i class="fas fa-calendar-alt me-1"></i>
            Year Compatible
          </div>
          <div class="product-image-container">
            <img src="https://via.placeholder.com/150" alt="Test Product" class="product-image">
          </div>
          <div class="product-title">2015-2020 Toyota Camry Brake Pads - Compatible Years</div>
          <div class="product-tags">
            <span class="product-tag badge-condition">
              <i class="fas fa-tag me-1"></i>
              Used
            </span>
            <span class="product-tag badge-oem">
              <i class="fas fa-certificate me-1"></i>
              OEM
            </span>
          </div>
          <div>
            <strong>$39.99</strong>
          </div>
        </div>
      </div>
      
      <div class="col-md-4">
        <div class="product-card product-relevance-high">
          <div class="product-source source-ebay">eBay</div>
          <div class="product-primary-badge badge-best-match">
            <i class="fas fa-star me-1"></i>
            Best Match
          </div>
          <div class="product-image-container">
            <img src="https://via.placeholder.com/150" alt="Test Product" class="product-image">
          </div>
          <div class="product-title">2018 Toyota Camry Brake Pads - All Badges</div>
          <div class="product-tags">
            <span class="product-tag badge-exact-year">
              <i class="fas fa-check-circle me-1"></i>
              Exact Year
            </span>
            <span class="product-tag badge-part-match">
              <i class="fas fa-wrench me-1"></i>
              Exact Part
            </span>
            <span class="product-tag badge-condition">
              <i class="fas fa-tag me-1"></i>
              New
            </span>
            <span class="product-tag badge-shipping">
              <i class="fas fa-truck me-1"></i>
              Free Shipping
            </span>
          </div>
          <div>
            <strong>$99.99</strong>
          </div>
        </div>
      </div>
    </div>
    
    <div class="row">
      <div class="col-12">
        <h2>View Modes</h2>
        <p>This shows how the badges look in different view modes.</p>
        
        <div class="btn-group mb-4">
          <button class="btn btn-outline-primary active" id="grid-view-btn">Grid View</button>
          <button class="btn btn-outline-primary" id="list-view-btn">List View</button>
          <button class="btn btn-outline-primary" id="compact-view-btn">Compact View</button>
        </div>
      </div>
      
      <div class="col-12">
        <div id="view-container" class="row grid-view">
          <!-- Products will be added dynamically -->
        </div>
      </div>
    </div>
  </div>

  <script>
    // View mode switching logic
    document.getElementById('grid-view-btn').addEventListener('click', function() {
      setViewMode('grid');
    });
    
    document.getElementById('list-view-btn').addEventListener('click', function() {
      setViewMode('list');
    });
    
    document.getElementById('compact-view-btn').addEventListener('click', function() {
      setViewMode('compact');
    });
    
    function setViewMode(mode) {
      // Update buttons
      document.querySelectorAll('.btn-group .btn').forEach(btn => {
        btn.classList.remove('active');
      });
      document.getElementById(mode + '-view-btn').classList.add('active');
      
      // Update container
      const container = document.getElementById('view-container');
      container.className = 'row ' + mode + '-view';
      
      // Clear and rebuild products for this view
      container.innerHTML = '';
      renderProductsForView(mode);
    }
    
    // Sample product data
    const sampleProducts = [
      {
        title: '2018 Toyota Camry Brake Pads - Best Match',
        image: 'https://via.placeholder.com/150',
        price: '$79.99',
        source: 'eBay',
        primaryBadge: { type: 'relevance', label: 'Best Match' },
        tags: ['New', 'Free Shipping'],
        relevanceClass: 'product-relevance-high'
      },
      {
        title: '2018 Toyota Camry Brake Pads - Exact Year Match',
        image: 'https://via.placeholder.com/150',
        price: '$89.99',
        source: 'Google',
        primaryBadge: { type: 'year', label: 'Exact Year' },
        tags: ['New', 'Premium Brand'],
        relevanceClass: 'product-relevance-high'
      },
      {
        title: '2015-2020 Toyota Camry Brake Pads - Exact Part Match',
        image: 'https://via.placeholder.com/150',
        price: '$49.99',
        source: 'eBay',
        primaryBadge: { type: 'partType', label: 'Exact Part' },
        tags: ['Year Compatible', 'Free Shipping'],
        relevanceClass: 'product-relevance-medium'
      }
    ];
    
    function renderProductsForView(viewMode) {
      const container = document.getElementById('view-container');
      const colClass = viewMode === 'list' ? 'col-12' : (viewMode === 'compact' ? 'col-6 col-md-3' : 'col-md-4');
      
      sampleProducts.forEach(product => {
        const col = document.createElement('div');
        col.className = colClass + ' mb-4';
        
        const sourceClass = product.source === 'eBay' ? 'source-ebay' : 'source-google';
        let badgeHTML = '';
        
        if (product.primaryBadge) {
          const badgeClass = product.primaryBadge.type === 'relevance' ? 'badge-best-match' : 
                            product.primaryBadge.type === 'year' ? 'badge-exact-year' :
                            product.primaryBadge.type === 'partType' ? 'badge-part-match' : 'badge-oem';
          
          const badgeIcon = product.primaryBadge.type === 'relevance' ? 'fas fa-star' :
                          product.primaryBadge.type === 'year' ? 'fas fa-check-circle' :
                          product.primaryBadge.type === 'partType' ? 'fas fa-wrench' : 'fas fa-certificate';
          
          badgeHTML = `
            <div class="product-primary-badge ${badgeClass}">
              <i class="${badgeIcon} me-1"></i>
              ${product.primaryBadge.label}
            </div>
          `;
        }
        
        const tagsHTML = product.tags.map(tag => {
          const tagClass = tag === 'New' ? 'badge-condition' :
                          tag === 'Free Shipping' ? 'badge-shipping' :
                          tag === 'Premium Brand' ? 'badge-brand' :
                          tag === 'OEM' ? 'badge-oem' : 'badge-compatible';
          
          const tagIcon = tag === 'New' ? 'fas fa-tag' :
                        tag === 'Free Shipping' ? 'fas fa-truck' :
                        tag === 'Premium Brand' ? 'fas fa-crown' :
                        tag === 'OEM' ? 'fas fa-certificate' : 'fas fa-calendar-alt';
          
          return `
            <span class="product-tag ${tagClass}">
              <i class="${tagIcon} me-1"></i>
              ${tag}
            </span>
          `;
        }).join('');
        
        col.innerHTML = `
          <div class="product-card ${product.relevanceClass}">
            <div class="product-source ${sourceClass}">${product.source}</div>
            ${badgeHTML}
            <div class="product-image-container">
              <img src="${product.image}" alt="${product.title}" class="product-image">
            </div>
            <div class="product-title">${product.title}</div>
            <div class="product-tags">
              ${tagsHTML}
            </div>
            <div>
              <strong>${product.price}</strong>
            </div>
          </div>
        `;
        
        container.appendChild(col);
      });
    }
    
    // Initialize with grid view
    renderProductsForView('grid');
  </script>
</body>
</html>